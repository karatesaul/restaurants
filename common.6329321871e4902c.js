"use strict";(self.webpackChunkrestaurants=self.webpackChunkrestaurants||[]).push([[592],{2889:(E,S,c)=>{c.d(S,{T:()=>D});var g=c(515),d=c(2223),v=c(7579),m=c(6063);class w extends v.x{constructor(o=1/0,e=1/0,t=m.l){super(),this._bufferSize=o,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,o),this._windowTime=Math.max(1,e)}next(o){const{isStopped:e,_buffer:t,_infiniteTimeWindow:s,_timestampProvider:n,_windowTime:i}=this;e||(t.push(o),!s&&t.push(n.now()+i)),this._trimBuffer(),super.next(o)}_subscribe(o){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(o),{_infiniteTimeWindow:t,_buffer:s}=this,n=s.slice();for(let i=0;i<n.length&&!o.closed;i+=t?1:2)o.next(n[i]);return this._checkFinalizedStatuses(o),e}_trimBuffer(){const{_bufferSize:o,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:s}=this,n=(s?1:2)*o;if(o<1/0&&n<t.length&&t.splice(0,t.length-n),!s){const i=e.now();let u=0;for(let a=1;a<t.length&&t[a]<=i;a+=2)u=a;u&&t.splice(0,u+1)}}}var l=c(9751),b=c(5698);let p=(()=>{class r{constructor(){}debug(...e){}log(...e){}warn(...e){console.warn(...e)}error(...e){console.error(...e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),y=(()=>{class r{constructor(e){if(this.logger=e,this.version=1,this.db=new w(1),indexedDB){this.logger.debug(`DatabaseService: Requesting Open of DB 'Restaurants' with version ${this.version}`);const t=indexedDB.open("restaurants",this.version);t.onerror=s=>{this.logger.error("DatabaseService: Open error",s),this.db.error(s),this.db.complete()},t.addEventListener("upgradeneeded",s=>{this.logger.debug("DatabaseService: Upgrade Needed");const n=s.target?.result;n.objectStoreNames.contains("restaurants")||n.createObjectStore("restaurants",{keyPath:"id",autoIncrement:!0})}),t.onsuccess=s=>{this.logger.debug("DatabaseService: Open Success"),this.db.next(s.target.result)}}else this.db.complete()}create(e,t){return this.logger.debug(`DatabaseService: Create ${e}`,t),new l.y(s=>{this.db.pipe((0,b.q)(1)).subscribe(n=>{const i=n.transaction(e,"readwrite");i.oncomplete=this.transactionOnComplete.bind(this),i.onerror=this.transactionOnError.bind(this),i.objectStore(e).add(t).onsuccess=h=>{this.logger.debug("DatabaseService: Create Success",h),s.next(h.target.result),s.complete()}})})}read(e,t){return this.logger.debug(`DatabaseService: Read ${e} ${t}`),new l.y(s=>{this.db.pipe((0,b.q)(1)).subscribe(n=>{const i=n.transaction(e);i.oncomplete=this.transactionOnComplete.bind(this),i.onerror=this.transactionOnError.bind(this),i.objectStore(e).get(t).onsuccess=h=>{this.logger.debug("DatabaseService: Read Success",h),s.next(h.target.result),s.complete()}})})}list(e){return this.logger.debug(`DatabaseService: List ${e}`),new l.y(t=>{this.db.pipe((0,b.q)(1)).subscribe(s=>{const n=s.transaction(e);n.oncomplete=this.transactionOnComplete.bind(this),n.onerror=this.transactionOnError.bind(this),n.objectStore(e).getAll().onsuccess=a=>{this.logger.debug("DatabaseService: List Success",a),t.next(a.target.result),t.complete()}})})}transactionOnComplete(e){this.logger.debug("DatabaseService: Transaction Complete",e)}transactionOnError(e){this.logger.error("DatabaseService: Transaction Error",e)}}return r.\u0275fac=function(e){return new(e||r)(d.LFG(p))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),D=(()=>{class r{constructor(e,t){this.database=e,this.logger=t}create(e){return this.logger.debug("RestaurantService: Create",e),this.database.create("restaurants",e)}read(e){return this.logger.log("Read: Empty Stub for now."),g.E}list(){return this.logger.debug("RestaurantService: List"),this.database.list("restaurants")}search(){return this.logger.log("Search: Empty Stub for now."),g.E}randomSearch(){return this.logger.log("RandomSearch: Empty Stub for now."),g.E}update(e){return this.logger.log("Update: Empty Stub for now."),g.E}delete(e){return this.logger.log("Delete: Empty Stub for now."),g.E}}return r.\u0275fac=function(e){return new(e||r)(d.LFG(y),d.LFG(p))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);