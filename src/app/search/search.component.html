<div class="search">
  <h1>Where should I eat?</h1>
  <mat-expansion-panel class="search-tags-panel">
    <mat-expansion-panel-header>
      <mat-panel-title>Include Tags</mat-panel-title>
    </mat-expansion-panel-header>
    <mat-chip-listbox multiple="true"
      (change)="onIncludeChange($event)">
      <mat-chip-option *ngFor="let tag of allTags()"
        [value]="tag.id">
        {{ tag.value }}
      </mat-chip-option>
    </mat-chip-listbox>
  </mat-expansion-panel>
  <mat-expansion-panel class="search-tags-panel">
    <mat-expansion-panel-header>
      <mat-panel-title>Exclude Tags</mat-panel-title>
    </mat-expansion-panel-header>
    <mat-chip-listbox multiple="true"
      (change)="onExcludeChange($event)">
      <mat-chip-option *ngFor="let tag of allTags()"
        color="warn"
        [value]="tag.id">
        {{ tag.value }}
      </mat-chip-option>
    </mat-chip-listbox>
  </mat-expansion-panel>
  <button (click)="randomSearch()"
    color="primary"
    mat-flat-button>
    Give Me a Suggestion
  </button>
  <mat-card *ngIf="result()"
    class="search-result">
    <mat-card-header>
      <h2>{{ result()?.name }}</h2>
    </mat-card-header>
    <mat-card-content>
      <mat-chip-set>
        <mat-chip *ngFor="let tag of resultTags()">
          {{ tag.value }}
        </mat-chip>
      </mat-chip-set>
    </mat-card-content>
  </mat-card>
</div>
