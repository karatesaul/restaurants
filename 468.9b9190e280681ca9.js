"use strict";(self.webpackChunkrestaurants=self.webpackChunkrestaurants||[]).push([[468],{9468:(R,E,e)=>{e.r(E),e.d(E,{default:()=>C});var d=e(177),t=e(1808),c=e(8834),r=e(5596),u=e(105),i=e(7062),m=e(8359),h=e(8141),M=e(5558),D=e(6777),v=e(1719),O=e(2003);function P(n,l){if(1&n&&(t.j41(0,"mat-list-item"),t.EFF(1),t.k0s()),2&n){const g=l.$implicit;t.R7$(),t.JRh(g.name)}}function p(n,l){1&n&&(t.j41(0,"p"),t.EFF(1,"No restaurants with this tag."),t.k0s())}let C=(()=>{var n;class l{constructor(a,s,o,T,f){this.location=a,this.restaurantService=s,this.route=o,this.router=T,this.tagsService=f,this.sub=new m.yU,this.restaurants=(0,t.vPA)([]),this.tag=(0,t.vPA)(null),this.sub.add(this.route.data.pipe((0,h.M)(_=>this.tag.set(_.tag)),(0,M.n)(_=>this.restaurantService.search(_.tag?.id))).subscribe(_=>this.restaurants.set(_)))}onDeactivate(){const a=this.location.getState();a.type===O.r.Delete&&this.onDelete(a)}onDelete(a){if(!a.delete)return;const s=this.tag()?.id;s&&(this.sub.add(this.tagsService.delete(s).subscribe()),this.router.navigate([".."],{relativeTo:this.route}))}}return(n=l).\u0275fac=function(a){return new(a||n)(t.rXU(d.aZ),t.rXU(D.A),t.rXU(i.nX),t.rXU(i.Ix),t.rXU(v.A))},n.\u0275cmp=t.VBU({type:n,selectors:[["tag"]],standalone:!0,features:[t.aNF],decls:16,vars:3,consts:[[1,"detail-page"],[1,"detail-page-header"],["color","warn","mat-flat-button","","routerLink","delete",1,"detail-page-delete"],[1,"detail-page-tiles"],[1,"detail-page-tile"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"deactivate"]],template:function(a,s){if(1&a&&(t.j41(0,"div",0)(1,"header",1)(2,"h1"),t.EFF(3),t.k0s(),t.j41(4,"button",2),t.EFF(5," Delete "),t.k0s()(),t.j41(6,"div",3)(7,"mat-card",4)(8,"mat-card-header")(9,"mat-card-title"),t.EFF(10,"Restaurants"),t.k0s()(),t.j41(11,"mat-card-content")(12,"mat-list"),t.DNE(13,P,2,1,"mat-list-item",5),t.k0s(),t.DNE(14,p,2,0,"p",6),t.k0s()()()(),t.j41(15,"router-outlet",7),t.bIt("deactivate",function(){return s.onDeactivate()}),t.k0s()),2&a){let o;t.R7$(3),t.JRh(null==(o=s.tag())?null:o.value),t.R7$(10),t.Y8G("ngForOf",s.restaurants()),t.R7$(),t.Y8G("ngIf",!s.restaurants().length)}},dependencies:[d.MD,d.Sq,d.bT,c.Hl,c.$z,r.Hu,r.RN,r.m2,r.MM,r.dh,u.Fg,u.jt,u.YE,i.iI,i.n3,i.Wk],styles:[".detail-page[_ngcontent-%COMP%]{padding:2rem;box-sizing:border-box}.detail-page-header[_ngcontent-%COMP%]{display:flex}.detail-page-delete[_ngcontent-%COMP%]{margin-left:auto}.detail-page-tiles[_ngcontent-%COMP%]{display:flex;gap:2rem}.detail-page-tile[_ngcontent-%COMP%]{width:33%}.detail-page-tile-edit[_ngcontent-%COMP%]{margin-left:auto}"]}),l})()}}]);