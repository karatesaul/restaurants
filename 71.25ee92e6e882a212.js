"use strict";(self.webpackChunkrestaurants=self.webpackChunkrestaurants||[]).push([[71],{8071:(T,g,a)=>{a.r(g),a.d(g,{default:()=>p});var d=a(4755),t=a(2223),m=a(1728),s=a(6012),c=a(6996),u=a(4660),h=a(727),E=a(8505),O=a(3900),v=a(9755),D=a(561);function M(n,_){if(1&n&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&n){const e=_.$implicit;t.xp6(1),t.hij(" ",e.value," ")}}const P=function(n){return{name:n,type:"restaurant"}};let p=(()=>{class n{constructor(e,r,i,l,C){this.location=e,this.restaurantService=r,this.route=i,this.router=l,this.tagsService=C,this.sub=new h.w0,this.restaurant=(0,t.tdS)(null),this.tags=(0,t.tdS)([]),this.sub.add(this.route.data.pipe((0,E.b)(o=>this.restaurant.set(o.restaurant)),(0,O.w)(o=>this.tagsService.searchIds(o.restaurant.tags))).subscribe(o=>{this.tags.set(o)}))}ngOnDestroy(){this.sub.unsubscribe()}onDeactivate(){if(this.location.getState().delete){const e=this.restaurant()?.id;if(!e)return;this.restaurantService.delete(e),this.router.navigate([".."],{relativeTo:this.route})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.Ye),t.Y36(v.Z),t.Y36(u.gz),t.Y36(u.F0),t.Y36(D.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["restaurant"]],standalone:!0,features:[t.jDz],decls:15,vars:5,consts:[[1,"restaurant-page"],[1,"restaurant-header"],["color","warn","mat-flat-button","","routerLink","delete",1,"restaurant-delete",3,"state"],[1,"restaurant-tiles"],[1,"restaurant-tile"],[4,"ngFor","ngForOf"],[3,"deactivate"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"header",1)(2,"h1"),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t._uU(5," Delete "),t.qZA()(),t.TgZ(6,"div",3)(7,"mat-card",4)(8,"mat-card-header")(9,"mat-card-title"),t._uU(10,"Tags"),t.qZA()(),t.TgZ(11,"mat-card-content")(12,"mat-chip-set"),t.YNc(13,M,2,1,"mat-chip",5),t.qZA()()()()(),t.TgZ(14,"router-outlet",6),t.NdJ("deactivate",function(){return r.onDeactivate()}),t.qZA()),2&e){let i,l;t.xp6(3),t.Oqu(null==(i=r.restaurant())?null:i.name),t.xp6(1),t.Q6J("state",t.VKq(3,P,null==(l=r.restaurant())?null:l.name)),t.xp6(9),t.Q6J("ngForOf",r.tags())}},dependencies:[d.ez,d.sg,m.ot,m.lW,s.QW,s.a8,s.dn,s.dk,s.n5,c.Hi,c.HS,c.J4,u.Bz,u.lC,u.rH],styles:[".restaurant-page[_ngcontent-%COMP%]{padding:2rem;box-sizing:border-box}.restaurant-header[_ngcontent-%COMP%]{display:flex}.restaurant-delete[_ngcontent-%COMP%]{margin-left:auto}.restaurant-tiles[_ngcontent-%COMP%]{display:flex;gap:2rem}.restaurant-tile[_ngcontent-%COMP%]{width:33%}"]}),n})()}}]);