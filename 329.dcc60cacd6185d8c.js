"use strict";(self.webpackChunkrestaurants=self.webpackChunkrestaurants||[]).push([[329],{329:(f,u,e)=>{e.r(u),e.d(u,{default:()=>P});var g=e(4755),t=e(2223),c=e(1728),i=e(6012),d=e(3851),r=e(4660),m=e(727),E=e(8505),O=e(3900),h=e(9755),p=e(561),T=e(5043);function D(n,l){if(1&n&&(t.TgZ(0,"mat-list-item"),t._uU(1),t.qZA()),2&n){const a=l.$implicit;t.xp6(1),t.Oqu(a.name)}}function M(n,l){1&n&&(t.TgZ(0,"p"),t._uU(1,"No restaurants with this tag."),t.qZA())}let P=(()=>{class n{constructor(a,s,o,v,C){this.location=a,this.restaurantService=s,this.route=o,this.router=v,this.tagsService=C,this.sub=new m.w0,this.restaurants=(0,t.tdS)([]),this.tag=(0,t.tdS)(null),this.sub.add(this.route.data.pipe((0,E.b)(_=>this.tag.set(_.tag)),(0,O.w)(_=>this.restaurantService.search(_.tag?.id))).subscribe(_=>this.restaurants.set(_)))}onDeactivate(){const a=this.location.getState();a.type===T.L.Delete&&this.onDelete(a)}onDelete(a){if(!a.delete)return;const s=this.tag()?.id;s&&(this.sub.add(this.tagsService.delete(s).subscribe()),this.router.navigate([".."],{relativeTo:this.route}))}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(g.Ye),t.Y36(h.Z),t.Y36(r.gz),t.Y36(r.F0),t.Y36(p.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tag"]],standalone:!0,features:[t.jDz],decls:16,vars:3,consts:[[1,"detail-page"],[1,"detail-page-header"],["color","warn","mat-flat-button","","routerLink","delete",1,"detail-page-delete"],[1,"detail-page-tiles"],[1,"detail-page-tile"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"deactivate"]],template:function(a,s){if(1&a&&(t.TgZ(0,"div",0)(1,"header",1)(2,"h1"),t._uU(3),t.qZA(),t.TgZ(4,"button",2),t._uU(5," Delete "),t.qZA()(),t.TgZ(6,"div",3)(7,"mat-card",4)(8,"mat-card-header")(9,"mat-card-title"),t._uU(10,"Restaurants"),t.qZA()(),t.TgZ(11,"mat-card-content")(12,"mat-list"),t.YNc(13,D,2,1,"mat-list-item",5),t.qZA(),t.YNc(14,M,2,0,"p",6),t.qZA()()()(),t.TgZ(15,"router-outlet",7),t.NdJ("deactivate",function(){return s.onDeactivate()}),t.qZA()),2&a){let o;t.xp6(3),t.Oqu(null==(o=s.tag())?null:o.value),t.xp6(10),t.Q6J("ngForOf",s.restaurants()),t.xp6(1),t.Q6J("ngIf",!s.restaurants().length)}},dependencies:[g.ez,g.sg,g.O5,c.ot,c.lW,i.QW,i.a8,i.dn,i.dk,i.n5,d.ie,d.i$,d.Tg,r.Bz,r.lC,r.rH],styles:[".detail-page[_ngcontent-%COMP%]{padding:2rem;box-sizing:border-box}.detail-page-header[_ngcontent-%COMP%]{display:flex}.detail-page-delete[_ngcontent-%COMP%]{margin-left:auto}.detail-page-tiles[_ngcontent-%COMP%]{display:flex;gap:2rem}.detail-page-tile[_ngcontent-%COMP%]{width:33%}.detail-page-tile-edit[_ngcontent-%COMP%]{margin-left:auto}"]}),n})()}}]);